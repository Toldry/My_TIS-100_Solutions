@0
S:
MOV 999 ACC

L0:
MOV ACC DOWN
MOV ACC DOWN
SAV
MOV DOWN ACC
JEZ S

@1
MOV UP, ACC
MOV ACC, DOWN
JEZ L0
MOV ACC, RIGHT
MOV ACC, RIGHT
L0:
MOV ACC, RIGHT

@2
L1:MOV -999,ACC
S: MOV ACC RIGHT
MOV LEFT, ACC
JEZ L1
MOV RIGHT, ACC
SUB LEFT
JLZ L2
MOV LEFT, NIL
MOV RIGHT, ACC
MOV ACC DOWN
JMP S
L2:MOV LEFT, ACC
MOV RIGHT, NIL
MOV ACC DOWN
JMP S

@3
MOV LEFT ACC
MOV ACC LEFT
MOV ACC LEFT

@4
S:MOV LEFT ACC
JEZ L0
SUB UP
JLZ L1
MOV UP ACC
MOV RIGHT NIL
MOV ACC DOWN
JMP S
L1:
MOV UP NIL
MOV RIGHT ACC
MOV ACC DOWN

@5
START:
MOV UP, ACC
MOV ACC, LEFT

JEZ L1
MOV ACC LEFT
MOV ACC LEFT
JMP START
L1:
!MOV 0, DOWN

@6
MOV UP DOWN

@7
MOV UP, RIGHT

@8
START:
MOV ANY, ACC
JEZ L1
SAV
JMP START

L1:
MOV 0, RIGHT
SWP
MOV ACC, DOWN

@9
START:
MOV ANY, ACC
JEZ L1
SAV
JMP START

L1:
SWP
MOV ACC, DOWN

@10
